def m_scaleApply(X:matrix<f64>, Centering:matrix<f64>, ScaleFactor:matrix<f64>) -> matrix<f64> {
  Y = [0.0];
  if (as.si64(nrow(Centering)) > 0 && as.si64(ncol(Centering)) > 0) {
    Y = X - Centering;
  } else {
    Y = as.matrix<f64>(X);
  }
  
  
  if (as.si64(nrow(ScaleFactor)) > 0 && as.si64(ncol(ScaleFactor)) > 0) {
    Y = as.matrix<f64>(Y / ScaleFactor);
  }
  
  return as.matrix<f64>(Y);
}

